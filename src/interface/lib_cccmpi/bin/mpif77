#!/bin/bash
usage() {

    cat <<EOF
Usage: mpif77 [MPIF77_OPTION]... SOURCE...

Option:
    -h           the help message
    -show        show the compilations options

EOF

}

showme() {

cat <<EOF

${CCC_MPIFC} -I${CCC_LIBMPI_ROOT}/include -I${SIZEOF_INCLUDE} -L${CCC_LIBMPI_ROOT}/lib -lmpi

EOF

}

if [[ "$CCC_MPIFC" == "gfortran" ]]; then
	SIZEOF_INCLUDE=${CCC_LIBMPI_ROOT}/include/gnu
else
	SIZEOF_INCLUDE=${CCC_LIBMPI_ROOT}/include/intel
fi

arg=$@
while [[ $# -ge 1 ]]
do
key=$1

case $key in
      -h | --help)
      usage; exit 0;;
      -show )
      showme; exit 0;;
esac
shift
done
${CCC_MPIFC} -I${CCC_LIBMPI_ROOT}/include -I${SIZEOF_INCLUDE} -L${CCC_LIBMPI_ROOT}/lib -lmpi $arg
exit $?
